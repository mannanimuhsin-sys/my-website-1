<!DOCTYPE html>
<html lang="ml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Misbahul Uloom Madrasa | Peruvana</title>
    <meta name="description" content="Misbahul Uloom Madrasa Peruvana - ‡¥î‡¥¶‡µç‡¥Ø‡µã‡¥ó‡¥ø‡¥ï ‡¥µ‡µÜ‡¥¨‡µç‡¥∏‡µà‡¥±‡µç‡¥±‡µç. ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ, ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‚Äå‡¥ü‡µç‡¥∞‡µá‡¥∑‡µª, ‡¥¨‡µç‡¥≤‡¥°‡µç ‡¥¨‡¥æ‡¥ô‡µç‡¥ï‡µç ‡¥∏‡µá‡¥µ‡¥®‡¥ô‡µç‡¥ô‡µæ ‡¥á‡¥µ‡¥ø‡¥ü‡µÜ ‡¥≤‡¥≠‡µç‡¥Ø‡¥Æ‡¥æ‡¥£‡µç.">
    <meta name="keywords" content="Misbahul Uloom Madrasa, Peruvana, Madrasa, Misbahul Uloom, Muhsin Mannani">
    <meta name="author" content="Muhsin Mannani">
    <meta name="google-site-verification" content="HUwfSaKZjE0L1uUTrx7RSZDbEWY2C8c__vYxCW-YJyM" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<link rel="icon" type="image/x-icon" href="madrasa.jpg">
<link rel="apple-touch-icon" href="madrasa.jpg">
    <style>
        body{ background:#f4f7f6; font-family: 'Poppins', sans-serif; }
        .jumbotron{
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url("madrasa.jpg");
            background-size:cover; background-position:center; color:white; padding:70px 10px; border-radius: 0 0 30px 30px;
        }
        .box{ background:white; padding:20px; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.05); margin-bottom:20px; border-top: 4px solid #198754; }
        .portal-card { background: linear-gradient(135deg, #198754, #20c997); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 25px; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(25,135,84,0.3); }
        .quiz-card { background: linear-gradient(135deg, #f093fb, #f5576c); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 25px; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(245,87,108,0.3); }
        
        .blood-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 15px 0; }
        .blood-btn { background: #fff; border: 2px solid #d9534f; color: #d9534f; padding: 10px 2px; border-radius: 10px; text-align: center; font-weight: bold; cursor: pointer; font-size: 12px; transition: 0.3s; }
        .blood-btn:hover, .blood-btn.active { background: #d9534f; color: white; }

        /* Donor List Style */
        #donorDisplay { display: none; margin-top: 15px; padding: 15px; background: #fffcfc; border: 1px solid #f5c6cb; border-radius: 12px; }
        .donor-card { display: flex; justify-content: space-between; align-items: center; background: white; padding: 12px; border-radius: 10px; margin-bottom: 10px; border: 1px solid #eee; }
        
        .contact-card { background: white; padding: 15px; border-radius: 12px; border-left: 5px solid #198754; margin-bottom: 15px; }
        .contact-btn-group { display: flex; gap: 10px; margin-top: 10px; }
        .contact-btn { flex: 1; padding: 8px; text-align: center; border-radius: 6px; color: white; font-size: 18px; }
        .btn-call { background: #007bff; } .btn-wa { background: #25d366; }
        footer{ background:#2c3e50; color:#fff; padding:20px; text-align:center; margin-top:40px; }
        /* Live Notice Blinking Effect */
        .live-notice-card { 
            background: linear-gradient(135deg, #ff4757, #ff6b81); 
            color: white; padding: 20px; border-radius: 15px; 
            text-align: center; margin-bottom: 25px; cursor: pointer; 
            transition: 0.3s; box-shadow: 0 4px 15px rgba(255,71,87,0.4);
            animation: pulse-red 2s infinite; display: none; /* ‡¥§‡µÅ‡¥ü‡¥ï‡µç‡¥ï‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥π‡µà‡¥°‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥®‡µç‡¥®‡µÅ */
        }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 71, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0); }
        }
    </style>
   <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "552c4166-3ffb-4065-a521-e1491b930d40",
      // ‡¥∏‡¥¨‡µç‚Äå‡¥∏‡µç‚Äå‡¥ï‡µç‡¥∞‡¥ø‡¥™‡µç‡¥∑‡µª ‡¥™‡µã‡¥™‡µç‡¥™‡µç-‡¥Ö‡¥™‡µç‡¥™‡µç ‡¥µ‡¥∞‡¥æ‡µª ‡¥§‡¥æ‡¥¥‡µÜ ‡¥ï‡¥æ‡¥£‡µÅ‡¥®‡µç‡¥® ‡¥µ‡¥∞‡¥ø‡¥ï‡µæ ‡¥∏‡¥π‡¥æ‡¥Ø‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç
      promptOptions: {
        slidedown: {
          prompts: [{
            type: "push",
            autoPrompt: true, // ‡¥∏‡µà‡¥±‡µç‡¥±‡¥ø‡µΩ ‡¥ï‡¥Ø‡¥±‡µÅ‡¥Æ‡µç‡¥™‡µã‡µæ ‡¥§‡¥®‡µç‡¥®‡µÜ ‡¥ì‡¥ü‡µç‡¥ü‡µã‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ø‡¥ï‡µç ‡¥Ü‡¥Ø‡¥ø ‡¥ö‡µã‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç
            text: {
              actionMessage: "‡¥Æ‡¥¶‡µç‡¥∞‡¥∏ ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ ‡¥â‡¥ü‡µª ‡¥≤‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥®‡µã‡¥ü‡µç‡¥ü‡¥ø‡¥´‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï.",
              acceptButton: "‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
              cancelButton: "‡¥µ‡µá‡¥£‡µç‡¥ü"
            }
          }]
        }
      },
      // ‡¥¨‡µÜ‡µΩ ‡¥ê‡¥ï‡µç‡¥ï‡µ∫ ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª
      notifyButton: {
        enable: true,
        position: 'bottom-right',
        size: 'medium'
      }
    });
  });
</script>
</head>
<body>

<div class="jumbotron text-center">
    <h1>MISBAHUL ULOOM MADRASA</h1>
    <p>Peruvana | Under SKIMVB Reg.No: 4224</p>
</div>

<div class="container">
    <div class="portal-card" onclick="window.location.href='https://mannanimuhsin-sys.github.io/my-website/student.html'">
        <i class="fas fa-id-card-alt fa-3x"></i>
        <h2>Student Registration & ID Portal</h2>
        <p>‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥æ‡¥®‡µÅ‡¥Ç ‡¥ê‡¥°‡¥ø ‡¥ï‡¥æ‡µº‡¥°‡µç ‡¥≤‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥®‡µÅ‡¥Ç ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï</p>
    </div>

    <div id="liveNoticeBox" class="live-notice-card" onclick="window.location.href='notice.html'">
        <i class="fas fa-bullhorn fa-2x"></i>
        <h2 id="liveNoticeTitle" style="margin: 10px 0 5px; font-weight: 800;">LIVE NOTICE BOARD</h2>
        <p id="liveNoticeDesc" style="margin: 0;">‡¥™‡µÅ‡¥§‡¥ø‡¥Ø ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ ‡¥â‡¥£‡µç‡¥ü‡µç. ‡¥ï‡¥æ‡¥£‡¥æ‡µª ‡¥á‡¥µ‡¥ø‡¥ü‡µÜ ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï.</p>
    </div>

    <div class="row">
        <div class="col-sm-4">
            <div class="box text-center">
                <h4>Dashboard</h4>
                <button class="btn btn-success btn-block" onclick="openDashboard()">Open</button>
            </div>
        </div>

        <div class="col-sm-4">
            <div class="box text-center" style="border-top-color: #D4AF37;">
                <h4>Prayer Times</h4>
                <button class="btn btn-warning btn-block" style="background-color: #D4AF37; border-color: #D4AF37; color: black; font-weight: bold;" onclick="window.location.href='https://mannanimuhsin-sys.github.io/my-website/bankview.html'">View Time</button>
            </div>
        </div>

        <div class="col-sm-4">
            <div class="box text-center">
                <h4>Location</h4>
                <button class="btn btn-primary btn-block" onclick="openLocation()">Map</button>
            </div>
        </div>
    </div>

    <div class="quiz-card" onclick="window.location.href='https://mannanimuhsin-sys.github.io/my-website/quiz.html'">
        <i class="fas fa-lightbulb fa-3x"></i>
        <h2>RAMADAN SPECIAL QUIZ</h2>
        <p>‡¥ì‡µ∫‡¥≤‡µà‡µª ‡¥ï‡µç‡¥µ‡¥ø‡¥∏‡µç ‡¥Æ‡¥§‡µç‡¥∏‡¥∞‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥™‡¥ô‡µç‡¥ï‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥á‡¥µ‡¥ø‡¥ü‡µÜ ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï.</p>
    </div>

    <div class="box">
        <h3 class="text-center">ü©∏ Blood Bank</h3>
        <p class="text-center"><small>‡¥≤‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µç ‡¥ï‡¥æ‡¥£‡¥æ‡µª ‡¥ó‡µç‡¥∞‡µÇ‡¥™‡µç‡¥™‡¥ø‡µΩ ‡¥ï‡µç‡¥≤‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï</small></p>
        <div class="blood-grid">
            <div class="blood-btn" onclick="fetchDonors('A+')">A+</div>
            <div class="blood-btn" onclick="fetchDonors('A-')">A-</div>
            <div class="blood-btn" onclick="fetchDonors('B+')">B+</div>
            <div class="blood-btn" onclick="fetchDonors('B-')">B-</div>
            <div class="blood-btn" onclick="fetchDonors('O+')">O+</div>
            <div class="blood-btn" onclick="fetchDonors('O-')">O-</div>
            <div class="blood-btn" onclick="fetchDonors('AB+')">AB+</div>
            <div class="blood-btn" onclick="fetchDonors('AB-')">AB-</div>
        </div>

        <div id="donorDisplay">
            <h4 id="donorTitle" class="text-center" style="color:#d9534f"></h4>
            <div id="donorList"></div>
        </div>
        <hr>
        <h4>ü©∏ ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï</h4>
        <form id="bloodBankForm">
            <input type="text" class="form-control" id="bbName" placeholder="‡¥™‡µá‡¥∞‡µç" required><br>
            <input type="tel" class="form-control" id="bbPhone" placeholder="‡¥Æ‡µä‡¥¨‡µà‡µΩ" required><br>
            <input type="text" class="form-control" id="bbAddress" placeholder="‡¥∏‡µç‡¥•‡¥≤‡¥Ç" required><br>
            <select class="form-control" id="bbGroup" required>
                <option value="">‡¥¨‡µç‡¥≤‡¥°‡µç ‡¥ó‡µç‡¥∞‡µÇ‡¥™‡µç‡¥™‡µç</option>
                <option>A+</option><option>A-</option><option>B+</option><option>B-</option>
                <option>O+</option><option>O-</option><option>AB+</option><option>AB-</option>
            </select><br>
            <button type="submit" class="btn btn-danger btn-block">Submit Donor</button>
        </form>
    </div>

    <h3 class="text-center">üìû ‡¥¨‡¥®‡µç‡¥ß‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥ï</h3>
    <div class="row">
        <div class="col-sm-4"><div class="contact-card"><small>‡¥∏‡¥¶‡µº ‡¥Æ‡µÅ‡¥Ö‡¥≤‡µç‡¥≤‡¥ø‡¥Ç</small><h4>‡¥Æ‡µÅ‡¥π‡µç‡¥∏‡¥ø‡µª ‡¥Æ‡¥®‡µç‡¥®‡¥æ‡¥®‡¥ø</h4><div class="contact-btn-group"><a href="tel:7559950633" class="contact-btn btn-call"><i class="fas fa-phone"></i></a><a href="https://wa.me/917559950633" class="contact-btn btn-wa"><i class="fab fa-whatsapp"></i></a></div></div></div>
        <div class="col-sm-4"><div class="contact-card" style="border-left-color: #007bff;"><small>‡¥∏‡µÜ‡¥ï‡µç‡¥∞‡¥ü‡µç‡¥ü‡¥±‡¥ø</small><h4>‡¥Æ‡µä‡¥Ø‡µç‚Äå‡¥¶‡µÅ ‡¥™‡¥ø.‡¥ï‡µÜ</h4><div class="contact-btn-group"><a href="tel:8304016701" class="contact-btn btn-call"><i class="fas fa-phone"></i></a><a href="https://wa.me/918304016701" class="contact-btn btn-wa"><i class="fab fa-whatsapp"></i></a></div></div></div>
        <div class="col-sm-4"><div class="contact-card" style="border-left-color: #f1c40f;"><small>‡¥Æ‡¥¶‡µç‡¥∞‡¥∏ ‡¥á‡µª ‡¥ö‡¥æ‡µº‡¥ú‡µç</small><h4>‡¥ú‡¥Ç‡¥∑‡µÄ‡µº ‡¥¶‡¥æ‡¥∞‡¥ø‡¥Æ‡¥ø</h4><div class="contact-btn-group"><a href="tel:9746969716" class="contact-btn btn-call"><i class="fas fa-phone"></i></a><a href="https://wa.me/919746969716" class="contact-btn btn-wa"><i class="fab fa-whatsapp"></i></a></div></div></div>
    </div>
</div>

<footer>¬© 2026 | Designed by Muhsin Mannani</footer>

<script>
    // 1. ‡¥´‡¥Ø‡µº‡¥¨‡µá‡¥∏‡µç ‡¥ï‡µã‡µ∫‡¥´‡¥ø‡¥ó‡¥±‡µá‡¥∑‡µª
    const firebaseConfig = {
        apiKey: "AIzaSyBriz_0zYwQOcwVgd3XTQ0l-0NKBNYaZXQ",
        authDomain: "misbahul-uloom-madrasa-4830c.firebaseapp.com",
        projectId: "misbahul-uloom-madrasa-4830c",
        storageBucket: "misbahul-uloom-madrasa-4830c.firebasestorage.app",
        messagingSenderId: "370558703441",
        appId: "1:370558703441:web:dc68dbdbd685c9d07ea570",
        measurementId: "G-Q2GZ1R1CTL"
    };

    // 2. ‡¥´‡¥Ø‡µº‡¥¨‡µá‡¥∏‡µç ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡µÅ‡¥®‡µç‡¥®‡µÅ (‡¥á‡¥§‡¥æ‡¥£‡µç ‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç ‡¥µ‡¥∞‡µá‡¥£‡µç‡¥ü‡¥§‡µç)
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // 3. ‡¥≤‡µà‡¥µ‡µç ‡¥®‡µã‡¥ü‡µç‡¥ü‡µÄ‡¥∏‡µç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ (‡¥á‡¥§‡µç db ‡¥∏‡µÜ‡¥±‡µç‡¥±‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡¥§‡¥ø‡¥®‡µç ‡¥∂‡µá‡¥∑‡¥Ç ‡¥Æ‡¥æ‡¥§‡µç‡¥∞‡¥Ç)
    db.collection("notices").doc("latest").onSnapshot((doc) => {
        const noticeBox = document.getElementById('liveNoticeBox');
        const noticeTitleDisplay = document.getElementById('liveNoticeDesc');
        
        if (doc.exists) {
            const data = doc.data();
            if (data && data.title && data.title.trim() !== "") {
                noticeBox.style.display = "block"; // ‡¥®‡µã‡¥ü‡µç‡¥ü‡µÄ‡¥∏‡µç ‡¥â‡¥£‡µç‡¥ü‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥¨‡µã‡¥ï‡µç‡¥∏‡µç ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç
                noticeTitleDisplay.innerText = data.title; // ‡¥ü‡µà‡¥±‡µç‡¥±‡¥ø‡µΩ ‡¥Ö‡¥µ‡¥ø‡¥ü‡µÜ ‡¥é‡¥¥‡µÅ‡¥§‡µÅ‡¥Ç
            } else {
                noticeBox.style.display = "none";
            }
        } else {
            noticeBox.style.display = "none";
        }
    });

    // 4. ‡¥¨‡¥æ‡¥ï‡µç‡¥ï‡¥ø ‡¥´‡¥ô‡µç‡¥∑‡¥®‡µÅ‡¥ï‡µæ
    function openDashboard(){ window.location.href="https://mannanimuhsin-sys.github.io/my-website/index_7.html"; }
    function openLocation(){ window.open("https://maps.google.com", "_blank"); }

    function fetchDonors(group) {
        const display = document.getElementById('donorDisplay');
        const list = document.getElementById('donorList');
        document.getElementById('donorTitle').innerText = group + " Donors List";
        list.innerHTML = "<p class='text-center'>‡¥§‡¥ø‡¥∞‡¥Ø‡µÅ‡¥®‡µç‡¥®‡µÅ...</p>";
        display.style.display = "block";

        db.collection("donors").where("group", "==", group).get().then((querySnapshot) => {
            list.innerHTML = "";
            if (querySnapshot.empty) {
                list.innerHTML = "<p class='text-center'>‡¥à ‡¥ó‡µç‡¥∞‡µÇ‡¥™‡µç‡¥™‡¥ø‡µΩ ‡¥Ü‡¥∞‡µÅ‡¥Ç ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡¥ø‡¥ü‡µç‡¥ü‡¥ø‡¥≤‡µç‡¥≤.</p>";
            } else {
                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    list.innerHTML += `
                        <div class="donor-card">
                            <div><p style="margin:0"><b>${data.name}</b></p><p style="margin:0"><small>${data.address}</small></p></div>
                            <div style="display:flex; gap:15px">
                                <a href="tel:${data.phone}" style="color:#007bff;font-size:18px"><i class="fas fa-phone-alt"></i></a>
                                <a href="https://wa.me/91${data.phone}" style="color:#25d366;font-size:18px"><i class="fab fa-whatsapp"></i></a>
                            </div>
                        </div>`;
                });
            }
        });
    }

    document.getElementById('bloodBankForm').onsubmit = function(e) {
        e.preventDefault();
        const donor = {
            name: document.getElementById('bbName').value,
            phone: document.getElementById('bbPhone').value,
            address: document.getElementById('bbAddress').value,
            group: document.getElementById('bbGroup').value,
            date: new Date()
        };
        db.collection("donors").add(donor).then(() => {
            alert("‡¥µ‡¥ø‡¥ú‡¥Ø‡¥ï‡¥∞‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡µÅ!");
            document.getElementById('bloodBankForm').reset();
            location.reload();
        });
    };
</script>
</body>
</html>